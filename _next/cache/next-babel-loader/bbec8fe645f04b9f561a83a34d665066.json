{"ast":null,"code":"import _toConsumableArray from \"@babel/runtime-corejs2/helpers/esm/toConsumableArray\";\nvar __jsx = React.createElement;\nimport React, { useCallback, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/router';\n\nvar OptionSliderItem = function OptionSliderItem(_ref) {\n  var options = _ref.options,\n      selected = _ref.selected,\n      sliderIndex = _ref.sliderIndex,\n      optionIndex = _ref.optionIndex,\n      optionSelect = _ref.optionSelect,\n      setOptionSelect = _ref.setOptionSelect;\n  var router = useRouter();\n  var liRef = useRef();\n  useEffect(function () {\n    if (liRef.current) {\n      if (selected) {\n        liRef.current.classList.add('selected');\n      } else {\n        liRef.current.classList.remove('selected');\n      }\n\n      if (optionSelect.length === 1) {\n        if (!options.option.some(function (item) {\n          return item.list[sliderIndex] == optionIndex;\n        })) {\n          liRef.current.classList.add('none');\n        } else {\n          liRef.current.classList.remove('none');\n        }\n      } else {\n        if (sliderIndex + 1 === optionSelect.length) {\n          if (!options.option.filter(function (item) {\n            return item.list[0] === optionSelect[0];\n          }).some(function (item) {\n            return item.list[sliderIndex] == optionIndex;\n          })) {\n            liRef.current.classList.add('none');\n          } else {\n            liRef.current.classList.remove('none');\n          }\n        } else {\n          if (!options.option.filter(function (item) {\n            return item.list[sliderIndex + 1] === optionSelect[sliderIndex + 1];\n          }).some(function (item) {\n            return item.list[sliderIndex] == optionIndex;\n          })) {\n            liRef.current.classList.add('none');\n          } else {\n            liRef.current.classList.remove('none');\n          }\n        }\n      }\n    }\n  }, [optionSelect, options]);\n  var onClickOption = useCallback(function () {\n    var selectedOption = optionSelect.map(function (item, index) {\n      if (index === sliderIndex) {\n        return optionIndex + '';\n      } else {\n        return item;\n      }\n    });\n\n    if (liRef.current) {\n      if (liRef.current.classList.contains('none')) {\n        // 가능한 옵션 찾기\n        var availableOption = options.option.filter(function (item) {\n          return item.list[sliderIndex] == optionIndex;\n        }).sort(function (x, y) {\n          return x.list.reduce(function (x, y) {\n            return x + y;\n          }) - y.list.reduce(function (x, y) {\n            return x + y;\n          });\n        })[0];\n        setOptionSelect(_toConsumableArray(availableOption.list));\n      } else {\n        if (sliderIndex + 1 === options.listName.length) {\n          setOptionSelect(_toConsumableArray(selectedOption));\n          var optionAsin = options.option.filter(function (item) {\n            return item.list.every(function (item, sliderIndex) {\n              return item === selectedOption[sliderIndex];\n            });\n          })[0].asin;\n          router.push(\"/product/\".concat(optionAsin));\n        } else {\n          setOptionSelect(_toConsumableArray(selectedOption));\n        }\n      }\n    }\n  }, [optionSelect]);\n  return __jsx(\"li\", {\n    ref: liRef,\n    onClick: onClickOption\n  }, __jsx(\"p\", {\n    className: \"optionName\"\n  }, options.listValue[options.listName[sliderIndex]][optionIndex]));\n};\n\nexport default OptionSliderItem;","map":{"version":3,"sources":["/Users/dayong/Desktop/dev/bmazon/components/product/optionSliderItem.jsx"],"names":["React","useCallback","useEffect","useRef","useRouter","OptionSliderItem","options","selected","sliderIndex","optionIndex","optionSelect","setOptionSelect","router","liRef","current","classList","add","remove","length","option","some","item","list","filter","onClickOption","selectedOption","map","index","contains","availableOption","sort","x","y","reduce","listName","optionAsin","every","asin","push","listValue"],"mappings":"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","sourcesContent":["import React, { useCallback, useEffect, useRef } from 'react';\nimport { useRouter } from 'next/router';\n\nconst OptionSliderItem = ({\n  options,\n  selected,\n  sliderIndex,\n  optionIndex,\n  optionSelect,\n  setOptionSelect,\n}) => {\n  const router = useRouter();\n  const liRef = useRef();\n\n  useEffect(() => {\n    if (liRef.current) {\n      if (selected) {\n        liRef.current.classList.add('selected');\n      } else {\n        liRef.current.classList.remove('selected');\n      }\n      if (optionSelect.length === 1) {\n        if (\n          !options.option.some(item => item.list[sliderIndex] == optionIndex)\n        ) {\n          liRef.current.classList.add('none');\n        } else {\n          liRef.current.classList.remove('none');\n        }\n      } else {\n        if (sliderIndex + 1 === optionSelect.length) {\n          if (\n            !options.option\n              .filter(item => item.list[0] === optionSelect[0])\n              .some(item => item.list[sliderIndex] == optionIndex)\n          ) {\n            liRef.current.classList.add('none');\n          } else {\n            liRef.current.classList.remove('none');\n          }\n        } else {\n          if (\n            !options.option\n              .filter(\n                item =>\n                  item.list[sliderIndex + 1] === optionSelect[sliderIndex + 1],\n              )\n              .some(item => item.list[sliderIndex] == optionIndex)\n          ) {\n            liRef.current.classList.add('none');\n          } else {\n            liRef.current.classList.remove('none');\n          }\n        }\n      }\n    }\n  }, [optionSelect, options]);\n\n  const onClickOption = useCallback(() => {\n    const selectedOption = optionSelect.map((item, index) => {\n      if (index === sliderIndex) {\n        return optionIndex + '';\n      } else {\n        return item;\n      }\n    });\n\n    if (liRef.current) {\n      if (liRef.current.classList.contains('none')) {\n        // 가능한 옵션 찾기\n        const availableOption = options.option\n          .filter(item => item.list[sliderIndex] == optionIndex)\n          .sort(\n            (x, y) =>\n              x.list.reduce((x, y) => x + y) - y.list.reduce((x, y) => x + y),\n          )[0];\n        setOptionSelect([...availableOption.list]);\n      } else {\n        if (sliderIndex + 1 === options.listName.length) {\n          setOptionSelect([...selectedOption]);\n          const optionAsin = options.option.filter(item =>\n            item.list.every(\n              (item, sliderIndex) => item === selectedOption[sliderIndex],\n            ),\n          )[0].asin;\n          router.push(`/product/${optionAsin}`);\n        } else {\n          setOptionSelect([...selectedOption]);\n        }\n      }\n    }\n  }, [optionSelect]);\n\n  return (\n    <li ref={liRef} onClick={onClickOption}>\n      <p className=\"optionName\">\n        {options.listValue[options.listName[sliderIndex]][optionIndex]}\n      </p>\n    </li>\n  );\n};\nexport default OptionSliderItem;\n"]},"metadata":{},"sourceType":"module"}