{"ast":null,"code":"var __jsx = React.createElement;\nimport React, { useState, useCallback } from 'react';\n\nvar ExchangeRateInput = function ExchangeRateInput(_ref) {\n  var rate = _ref.rate;\n\n  var _useState = useState(1),\n      exchangeRateValueA = _useState[0],\n      setExchangeRateValueA = _useState[1];\n\n  var _useState2 = useState(rate),\n      exchangeRateValueB = _useState2[0],\n      setExchangeRateValueB = _useState2[1];\n\n  var onChangeExchangeRate = useCallback(function (e, currency) {\n    if (/[^0-9.]/g.test(e.target.value)) {\n      return;\n    }\n\n    if (e.target.value.includes('.')) {\n      if (e.target.value.length - e.target.value.indexOf('.') === 4) {\n        return;\n      }\n\n      if (e.target.value.indexOf('.') !== e.target.value.lastIndexOf('.')) {\n        return;\n      }\n    }\n\n    if (currency === 'A') {\n      setExchangeRateValueA(e.target.value);\n      setExchangeRateValueB((e.target.value * rate).toFixed(2));\n    } else {\n      setExchangeRateValueA((e.target.value / rate).toFixed(2));\n      setExchangeRateValueB(e.target.value);\n    }\n  }, [rate]);\n  var onBlurExhcangeRate = useCallback(function (e) {\n    if (exchangeRateValueA === '' || exchangeRateValueB === '') {\n      setExchangeRateValueA(1);\n      setExchangeRateValueB(rate);\n    }\n  }, [exchangeRateValueA, exchangeRateValueB, rate]);\n  return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"exchangeRateWrapper\"\n  }, __jsx(\"span\", {\n    className: \"country\"\n  }, \"\\uD83C\\uDDFA\\uD83C\\uDDF8\"), __jsx(\"input\", {\n    className: \"exchangeRateInput\",\n    onChange: useCallback(function (e) {\n      return onChangeExchangeRate(e, 'A');\n    }, [rate]),\n    onBlur: onBlurExhcangeRate,\n    value: exchangeRateValueA\n  })), __jsx(\"div\", {\n    className: \"exchangeRateWrapper\"\n  }, __jsx(\"span\", {\n    className: \"country\"\n  }, \"\\uD83C\\uDDF0\\uD83C\\uDDF7\"), __jsx(\"input\", {\n    className: \"exchangeRateInput\",\n    onChange: useCallback(function (e) {\n      return onChangeExchangeRate(e, 'B');\n    }, [rate]),\n    onBlur: onBlurExhcangeRate,\n    value: exchangeRateValueB\n  })));\n};\n\nexport default ExchangeRateInput;","map":null,"metadata":{},"sourceType":"module"}